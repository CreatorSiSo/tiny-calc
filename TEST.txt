# Tests

This file was auto generated by the `test.py` script.
Snapshot tests can be found in the `tests` folder.


## Constants

```tiny-calc --plain
3.141592653589793

```

## Plain output

```tiny-calc --plain
3
174
2.2
2.5
8.181818181818182

```

## Command line help

```tiny-calc --help
A very minimal terminal calculator with a bit of an unusual syntax.

Usage:
  tiny-calc [OPTIONS]

Options:
  -h, --help, -?     Print this help message
  --plain            Only print the results of the calculation,
                     or error messages (useful for piping)
  --print-tokens     Print token streams
  --print-chunks     Print compiled chunks

```

## Wrong command line arguments

```tiny-calc --test -- -9 -10
Error: Invalid argument '--test'

Usage:
  tiny-calc [OPTIONS]

Options:
  -h, --help, -?     Print this help message
  --plain            Only print the results of the calculation,
                     or error messages (useful for piping)
  --print-tokens     Print token streams
  --print-chunks     Print compiled chunks

```

## Command line arguments

```tiny-calc --print-tokens --print-chunks
Welcome to tiny-calc!
Type :help if you are lost =)
>> Tokens:
    Plus[+] 0..1
    Number[1] 2..3
    Number[2] 4..5
OpCodes:
    [0] Literal
    [1] Literal
    [2] Add
Literals:
    [0] 2
    [1] 1
3
>> Tokens:
    Slash[/] 0..1
    Identifier[pi] 2..4
    Number[2] 5..6
OpCodes:
    [0] Literal
    [1] Literal
    [2] Div
Literals:
    [0] 2
    [1] 3.141592653589793
1.5707963267948966
>> CTRL+D
```

## Addition

```tiny-calc --print-tokens --print-chunks
Welcome to tiny-calc!
Type :help if you are lost =)
>> Tokens:
    Plus[+] 0..1
    Number[1] 2..3
    Plus[+] 4..5
    Number[2] 6..7
    Plus[+] 8..9
    Number[3] 10..11
    Plus[+] 12..13
    Number[4] 14..15
    Number[5] 16..17
OpCodes:
    [0] Literal
    [1] Literal
    [2] Add
    [3] Literal
    [4] Add
    [5] Literal
    [6] Add
    [7] Literal
    [8] Add
Literals:
    [0] 5
    [1] 4
    [2] 3
    [3] 2
    [4] 1
15
>> CTRL+D
```

## Empty lines

```tiny-calc --print-tokens --print-chunks
Welcome to tiny-calc!
Type :help if you are lost =)
>> >> >> CTRL+D
```

## Functions

```tiny-calc --print-tokens --print-chunks
Welcome to tiny-calc!
Type :help if you are lost =)
>> Tokens:
    Identifier[s] 0..1
    Number[0] 2..3
OpCodes:
    [0] Literal
    [1] Sin
Literals:
    [0] 0
0
>> Tokens:
    Identifier[sin] 0..3
    Star[*] 4..5
    Number[2] 6..7
    Identifier[pi] 8..10
OpCodes:
    [0] Literal
    [1] Literal
    [2] Mul
    [3] Sin
Literals:
    [0] 3.141592653589793
    [1] 2
-2.4492935982947064e-16
>> Tokens:
    Identifier[c] 0..1
    Star[*] 2..3
    Number[2] 4..5
    Identifier[pi] 6..8
OpCodes:
    [0] Literal
    [1] Literal
    [2] Mul
    [3] Cos
Literals:
    [0] 3.141592653589793
    [1] 2
1
>> Tokens:
    Identifier[cos] 0..3
    Number[0] 4..5
OpCodes:
    [0] Literal
    [1] Cos
Literals:
    [0] 0
1
>> Tokens:
    Identifier[cos] 0..3
    Star[*] 4..5
    Number[1.5] 6..9
    Identifier[pi] 10..12
OpCodes:
    [0] Literal
    [1] Literal
    [2] Mul
    [3] Cos
Literals:
    [0] 3.141592653589793
    [1] 1.5
-1.8369701987210297e-16
>> Tokens:
    Identifier[cos] 0..3
    Star[*] 4..5
    Slash[/] 6..7
    Number[1] 8..9
    Number[4] 10..11
    Identifier[pi] 12..14
OpCodes:
    [0] Literal
    [1] Literal
    [2] Literal
    [3] Div
    [4] Mul
    [5] Cos
Literals:
    [0] 3.141592653589793
    [1] 4
    [2] 1
0.7071067811865476
>> CTRL+D
```

## REPL commands

```tiny-calc 
Welcome to tiny-calc!
Type :help if you are lost =)
>> :help, :?      Print command help
:examples      Print expression examples
:quit, :exit   Exit calculator (or press CTRL+C)
:tokens        Toggle printing token streams
:chunks        Toggle printing compiled chunks
>> :help, :?      Print command help
:examples      Print expression examples
:quit, :exit   Exit calculator (or press CTRL+C)
:tokens        Toggle printing token streams
:chunks        Toggle printing compiled chunks
>> Error: Unkown command <:invalid>
Note: Type <:help> for a list of valid commands
>> >> >> Tokens:
    Identifier[sin] 0..3
    Number[0] 4..5
OpCodes:
    [0] Literal
    [1] Sin
Literals:
    [0] 0
0
>> 
```

